cmake_minimum_required (VERSION 3.0.2)
project (cryptolens_examples)

# Before we add the directory with the cryptolens library we can set
# options for the library.

# Uncommenting the following line would cause the cryptolens library to be
# built as a shared library. Defaults to a static library.
#
#    set(CRYPTOLENS_LIBRARY_TYPE "SHARED" CACHE INTERNAL "" FORCE)


# Next we add the cryptolens library.
#
# Since in this example we are adding a parent directory, we need to provide
# the a name for the folder generated by CMake as the second argument, in this
# case "cryptolens-cpp". In case one adds cryptolens-cpp as a subdirectory to a
# project this is not necessary and it is sufficient to do something like:
#
#    add_subdirectory ("cryptolens-cpp")
#
# where cryptolens-cpp is the name of the directory containing the cryptolens
# library.

add_subdirectory ("../../.." "cryptolens-cpp")

# Additionally we can set install locations for files related to the cryptolens
# library as follows:
#
#    install(DIRECTORY ${cryptolens_SOURCE_DIR}/include/ DESTINATION include)
#    install(DIRECTORY ${cryptolens_SOURCE_DIR}/third_party/ DESTINATION third_party)
#    install(TARGETS cryptolens DESTINATION lib)

add_executable(example_activate ../example_activate.cpp)
target_link_libraries(example_activate cryptolens)
set_property(TARGET example_activate PROPERTY CXX_STANDARD 11)
set_property(TARGET example_activate PROPERTY CXX_STANDARD_REQURED ON)
install(TARGETS example_activate DESTINATION bin)

add_executable(example_create_trial_key ../example_create_trial_key.cpp)
target_link_libraries(example_create_trial_key cryptolens)
set_property(TARGET example_create_trial_key PROPERTY CXX_STANDARD 11)
set_property(TARGET example_create_trial_key PROPERTY CXX_STANDARD_REQURED ON)
install(TARGETS example_create_trial_key DESTINATION bin)

add_executable(example_external ../example_external.cpp)
target_link_libraries(example_external cryptolens)
set_property(TARGET example_external PROPERTY CXX_STANDARD 11)
set_property(TARGET example_external PROPERTY CXX_STANDARD_REQURED ON)
install(TARGETS example_external DESTINATION bin)

add_executable(example_floating ../example_floating.cpp)
target_link_libraries(example_floating cryptolens)
set_property(TARGET example_floating PROPERTY CXX_STANDARD 11)
set_property(TARGET example_floating PROPERTY CXX_STANDARD_REQURED ON)
install(TARGETS example_floating DESTINATION bin)

add_executable(example_offline ../example_offline.cpp)
target_link_libraries(example_offline cryptolens)
set_property(TARGET example_offline PROPERTY CXX_STANDARD 11)
set_property(TARGET example_offline PROPERTY CXX_STANDARD_REQURED ON)
install(TARGETS example_offline DESTINATION bin)
